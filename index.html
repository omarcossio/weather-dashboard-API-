<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="http://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
        integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
        crossorigin="anonymous"></script>
    <title>Weather Dashboard</title>
</head>

<body>
    <header>
        <div class="bg-dark text-white text-center py-2">
            <h1>Weather Dashboard</h1>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 bg-danger pt-2">
                <form class="form-inline my-2 my-lg-0" id="citySearch">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="cityInput">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                </form>
                <div id="previousCities">
                    
                </div>
            </div>

            <div class="col bg-info" id="main">
                <div class="row bg-primary pt-2">
                    thi sis primary
                </div>
                <div class="row bg-secondary pt-2">
                    this is secondary
                </div>
            </div>
        </div>

    </div>

    <script>
        var searched = [];
        var searchedSet = new Set("");
        var searchedName = JSON.parse(localStorage.getItem("searched"));
        if(searchedName != null){
            searched = searchedName;
            searchedSet = new Set(searched);
        }
        setHistory();

        $("#citySearch").submit((function(){
            event.preventDefault();
            var input = $("#cityInput").val();
            if(input != null && input != ""){
            searched.push(input);
           //searched.add(input);
            searchedSet = new Set(searched);
            console.log(searched);
            console.log(searchedSet);
            localStorage.setItem("searched", JSON.stringify(searched));
            setHistory();
            }
        }));

        function setHistory(){
            $("#previousCities").remove();
            $("#citySearch").after('<div id="previousCities"></div>');
            var i = 0;
            for(item of searchedSet.values()){
                $("#previousCities").append("<br><hr>" + item);
            }
        }



    </script>

    

</body>

</html>